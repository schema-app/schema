<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      <img class="header-icon" src="assets/imgs/small-icon.png">
      <span class="header-title-thin">sch</span><strong>ema</strong>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-item-group>
    <ion-item-divider color="light">User ID</ion-item-divider>
    <ion-item lines="full">
      {{this.uuid}}
    </ion-item>
  </ion-item-group>
  <ion-item-group [hidden]="!isEnrolled">
    <ion-item-divider lines="full" color="light">Notifications</ion-item-divider>
    <ion-item lines="full">
      <ion-label>Enable Notifications</ion-label>
      <ion-toggle color="secondary" (ionChange)="toggleNotifications()" [(ngModel)]="notificationsEnabled"></ion-toggle>
    </ion-item>
    <div *ngIf="this.study.properties.instructions.length > 0">
    <ion-item-divider color="light">About this study</ion-item-divider>
    <ion-item lines="full">
      <ion-label style="white-space: pre-wrap !important;" [innerHTML]="this.study.properties.instructions" class="ion-text-wrap">
      </ion-label>
    </ion-item>
    </div>
    <div *ngIf="this.study.properties.support_email.length > 0 || this.study.properties.support_url.length > 0">
    <ion-item-divider color="light">Support</ion-item-divider>
    <ion-item lines="full" *ngIf="this.study.properties.support_email.length > 0" (click)="openSupportEmail(this.study.properties.support_email, this.study.properties.study_name)" detail>
      <ion-label>
        Contact us by email
      </ion-label>
    </ion-item>
    <ion-item lines="full" *ngIf="this.study.properties.support_url.length > 0" (click)="openSupportURL(this.study.properties.support_url)" detail>
      <ion-label>
        Support website
      </ion-label>
    </ion-item>
    </div>
    <div *ngIf="this.study.properties.ethics.length > 0 || this.study.properties.pls.length > 0">
      <ion-item-divider color="light">Ethics Information</ion-item-divider>
      <ion-item lines="full" *ngIf="this.study.properties.ethics.length > 0">
        <ion-label style="white-space: pre-wrap !important;" [innerHTML]="this.study.properties.ethics" class="ion-text-wrap">
        </ion-label>
      </ion-item>
      <ion-item lines="full" *ngIf="this.study.properties.pls.length > 0" (click)="openSupportURL(this.study.properties.pls)" detail>
        <ion-label>
          Plain Language Statement
        </ion-label>
      </ion-item>
    </div>
    <ion-item-divider color="light">Withdraw</ion-item-divider>
    <ion-item lines="full" (click)="withdrawFromStudy()" detail>
      <ion-label>
        Withdraw from study
      </ion-label>
    </ion-item>
  </ion-item-group>

</ion-content>